[1/1] Compiling plugin GenerateManual
[2/2] Compiling plugin GenerateDoccReference
Building for debugging...
[2/8] Write swift-version-596C98914D6876CD.txt
Build complete! (0.33s)
Test Suite 'Selected tests' started at 2026-02-17 17:56:46.644.
Test Suite 'MonadProjectPackageTests.xctest' started at 2026-02-17 17:56:46.654.
Test Suite 'ContextCompressorTests' started at 2026-02-17 17:56:46.654.
Test Case '-[MonadCoreTests.ContextCompressorTests testBroadSummaryTrigger]' started.
Test Case '-[MonadCoreTests.ContextCompressorTests testBroadSummaryTrigger]' passed (0.007 seconds).
Test Case '-[MonadCoreTests.ContextCompressorTests testCompressionBasics]' started.
Test Case '-[MonadCoreTests.ContextCompressorTests testCompressionBasics]' passed (0.000 seconds).
Test Case '-[MonadCoreTests.ContextCompressorTests testSmartChunkingWithTopicChange]' started.
Test Case '-[MonadCoreTests.ContextCompressorTests testSmartChunkingWithTopicChange]' passed (0.000 seconds).
Test Suite 'ContextCompressorTests' passed at 2026-02-17 17:56:46.662.
	 Executed 3 tests, with 0 failures (0 unexpected) in 0.008 (0.008) seconds
Test Suite 'ContextManagerMockingTests' started at 2026-02-17 17:56:46.662.
Test Case '-[MonadCoreTests.ContextManagerMockingTests testContextManagerInitializationWithMocks]' started.
Test Case '-[MonadCoreTests.ContextManagerMockingTests testContextManagerInitializationWithMocks]' passed (0.003 seconds).
Test Suite 'ContextManagerMockingTests' passed at 2026-02-17 17:56:46.665.
	 Executed 1 test, with 0 failures (0 unexpected) in 0.003 (0.003) seconds
Test Suite 'ContextManagerTests' started at 2026-02-17 17:56:46.665.
Test Case '-[MonadCoreTests.ContextManagerTests testFilesystemNotesRetrieval]' started.
2026-02-17T17:56:46+0100 info com.monad.ContextManager: [MonadCore] Recall performance: 0 memories selected from 0 semantic + 0 tag matches
2026-02-17T17:56:46+0100 info com.monad.ContextManager: [MonadCore] Context gathered in 0.002s
Test Case '-[MonadCoreTests.ContextManagerTests testFilesystemNotesRetrieval]' passed (0.004 seconds).
Test Case '-[MonadCoreTests.ContextManagerTests testGatherContextSemanticRetrieval]' started.
2026-02-17T17:56:46+0100 info com.monad.ContextManager: [MonadCore] Recall performance: 1 memories selected from 1 semantic + 0 tag matches
2026-02-17T17:56:46+0100 info com.monad.ContextManager: [MonadCore] Context gathered in 0.000s
Test Case '-[MonadCoreTests.ContextManagerTests testGatherContextSemanticRetrieval]' passed (0.104 seconds).
Test Case '-[MonadCoreTests.ContextManagerTests testGatherContextUsesHistoryForTagsButQueryForEmbedding]' started.
2026-02-17T17:56:46+0100 info com.monad.ContextManager: [MonadCore] Recall performance: 1 memories selected from 1 semantic + 1 tag matches
2026-02-17T17:56:46+0100 info com.monad.ContextManager: [MonadCore] Context gathered in 0.000s
Test Case '-[MonadCoreTests.ContextManagerTests testGatherContextUsesHistoryForTagsButQueryForEmbedding]' passed (0.000 seconds).
Test Case '-[MonadCoreTests.ContextManagerTests testRankingLogicWithTagBoost]' started.
2026-02-17T17:56:46+0100 info com.monad.ContextManager: [MonadCore] Recall performance: 2 memories selected from 1 semantic + 1 tag matches
2026-02-17T17:56:46+0100 info com.monad.ContextManager: [MonadCore] Context gathered in 0.000s
Test Case '-[MonadCoreTests.ContextManagerTests testRankingLogicWithTagBoost]' passed (0.001 seconds).
Test Suite 'ContextManagerTests' passed at 2026-02-17 17:56:46.774.
	 Executed 4 tests, with 0 failures (0 unexpected) in 0.109 (0.110) seconds
Test Suite 'FilesystemToolsTests' started at 2026-02-17 17:56:46.774.
Test Case '-[MonadCoreTests.FilesystemToolsTests testFindFileTool]' started.
Test Case '-[MonadCoreTests.FilesystemToolsTests testFindFileTool]' passed (0.003 seconds).
Test Case '-[MonadCoreTests.FilesystemToolsTests testInspectFileTool]' started.
Test Case '-[MonadCoreTests.FilesystemToolsTests testInspectFileTool]' passed (0.007 seconds).
Test Case '-[MonadCoreTests.FilesystemToolsTests testJailedRelativePath]' started.
Test Case '-[MonadCoreTests.FilesystemToolsTests testJailedRelativePath]' passed (0.004 seconds).
Test Case '-[MonadCoreTests.FilesystemToolsTests testListDirectoryTool]' started.
Test Case '-[MonadCoreTests.FilesystemToolsTests testListDirectoryTool]' passed (0.002 seconds).
Test Case '-[MonadCoreTests.FilesystemToolsTests testPathTraversalProtection]' started.
Test Case '-[MonadCoreTests.FilesystemToolsTests testPathTraversalProtection]' passed (0.002 seconds).
Test Case '-[MonadCoreTests.FilesystemToolsTests testReadFileTool]' started.
Test Case '-[MonadCoreTests.FilesystemToolsTests testReadFileTool]' passed (0.002 seconds).
Test Case '-[MonadCoreTests.FilesystemToolsTests testSearchFileContentTool]' started.
Test Case '-[MonadCoreTests.FilesystemToolsTests testSearchFileContentTool]' passed (0.010 seconds).
Test Case '-[MonadCoreTests.FilesystemToolsTests testSearchFilesTool]' started.
Test Case '-[MonadCoreTests.FilesystemToolsTests testSearchFilesTool]' passed (0.006 seconds).
Test Suite 'FilesystemToolsTests' passed at 2026-02-17 17:56:46.811.
	 Executed 8 tests, with 0 failures (0 unexpected) in 0.036 (0.037) seconds
Test Suite 'RaptorCompressionTests' started at 2026-02-17 17:56:46.811.
Test Case '-[MonadCoreTests.RaptorCompressionTests testRecursiveSummarize]' started.
Test Case '-[MonadCoreTests.RaptorCompressionTests testRecursiveSummarize]' passed (0.002 seconds).
Test Case '-[MonadCoreTests.RaptorCompressionTests testSummarizeToolInteractions]' started.
Test Case '-[MonadCoreTests.RaptorCompressionTests testSummarizeToolInteractions]' passed (0.000 seconds).
Test Suite 'RaptorCompressionTests' passed at 2026-02-17 17:56:46.813.
	 Executed 2 tests, with 0 failures (0 unexpected) in 0.002 (0.002) seconds
Test Suite 'RemoteWorkspaceTests' started at 2026-02-17 17:56:46.814.
Test Case '-[MonadCoreTests.RemoteWorkspaceTests testExecuteTool]' started.
/Volumes/Development/monad-project/Tests/MonadCoreTests/RemoteWorkspaceTests.swift:74: error: -[MonadCoreTests.RemoteWorkspaceTests testExecuteTool] : failed - Invalid parameters type: Optional<Any>
Test Case '-[MonadCoreTests.RemoteWorkspaceTests testExecuteTool]' failed (0.033 seconds).
Test Case '-[MonadCoreTests.RemoteWorkspaceTests testReadFile]' started.
/Volumes/Development/monad-project/Tests/MonadCoreTests/RemoteWorkspaceTests.swift:107: error: -[MonadCoreTests.RemoteWorkspaceTests testReadFile] : failed - Invalid parameters type: Optional<Any>
Test Case '-[MonadCoreTests.RemoteWorkspaceTests testReadFile]' failed (0.001 seconds).
Test Suite 'RemoteWorkspaceTests' failed at 2026-02-17 17:56:46.848.
	 Executed 2 tests, with 2 failures (0 unexpected) in 0.034 (0.034) seconds
Test Suite 'SystemStatusTests' started at 2026-02-17 17:56:46.848.
Test Case '-[MonadCoreTests.SystemStatusTests testHealthCheckableProtocol]' started.
Test Case '-[MonadCoreTests.SystemStatusTests testHealthCheckableProtocol]' passed (0.000 seconds).
Test Case '-[MonadCoreTests.SystemStatusTests testStatusResponseSerialization]' started.
Test Case '-[MonadCoreTests.SystemStatusTests testStatusResponseSerialization]' passed (0.002 seconds).
Test Suite 'SystemStatusTests' passed at 2026-02-17 17:56:46.850.
	 Executed 2 tests, with 0 failures (0 unexpected) in 0.002 (0.002) seconds
Test Suite 'MonadProjectPackageTests.xctest' failed at 2026-02-17 17:56:46.850.
	 Executed 22 tests, with 2 failures (0 unexpected) in 0.194 (0.196) seconds
Test Suite 'Selected tests' failed at 2026-02-17 17:56:46.850.
	 Executed 22 tests, with 2 failures (0 unexpected) in 0.194 (0.205) seconds
􀟈  Test run started.
􀄵  Testing Library Version: 1501
􀄵  Target Platform: arm64e-apple-macos14.0
􀟈  Suite StreamingParserCodeBlockTests started.
􀟈  Suite PromptIntegrationTests started.
􀟈  Suite MockVectorStoreTests started.
􀟈  Suite RecallEvaluationTests started.
􀟈  Suite SessionManagerTests started.
􀟈  Suite "Retry Policy Tests" started.
􀟈  Suite LoopDetectionTests started.
􀟈  Suite EmbeddingServiceTests started.
􀟈  Suite AnyCodableTests started.
􀟈  Suite StreamingParserTests started.
􀟈  Suite USearchDirectTests started.
􀟈  Suite "Tool Call Regression Tests" started.
􀟈  Suite ToolExecutorTests started.
􁁛  Suite USearchDirectTests passed after 0.001 seconds.
􁁛  Suite RecallEvaluationTests passed after 0.001 seconds.
􀟈  Suite AgentRegistryTests started.
􀟈  Suite JobQueueTests started.
􀟈  Suite StreamingParserStressTests started.
􀟈  Suite LLMConfigurationTests started.
􀟈  Suite TokenEstimatorTests started.
􀟈  Suite VectorStoreTests started.
􀟈  Suite LLMServiceTests started.
􀟈  Test "Test tool call inside markdown code block" started.
􀟈  Test "Test Stale Session Cleanup" started.
􀟈  Test "Test tool call inside standard code block" started.
􀟈  Test "testNonEmptyUserQueryAppendsMessage" started.
􀟈  Test "testUserQueryPreventsLeakageIntoSystem" started.
􀟈  Test "Succeeds after transient failures" started.
􀟈  Test "Test mixed content with code block tool call" started.
􀟈  Test "Fails after max retries exhausted" started.
􀟈  Test "Test Session Creation and Context Manager Access" started.
􀟈  Test "testEmptyUserQueryDoesNotAppendMessage" started.
􀟈  Test "Test string description" started.
􀟈  Test "Fails immediately on non-transient error" started.
􀟈  Test "Test generating multiple embeddings" started.
􀟈  Test "Mock Store Initialize and Add" started.
􀟈  Test "Test encoding and decoding nested structures" started.
􀟈  Test "Test loop detection triggers after 3 identical calls" started.
􀟈  Test "Test semantic similarity logic" started.
􀟈  Test "Succeeds on first attempt" started.
􀟈  Test "Test loop detection reset" started.
􀟈  Test "Test different arguments do not trigger loop detection" started.
􀟈  Test "Test encoding and decoding primitive types" started.
􀟈  Test "Test partial thinking block streaming" started.
􀟈  Test "Test generating a single embedding" started.
􀟈  Test "Test encoding double wrapped AnyCodable" started.
􀟈  Test "StreamingCoordinator parses complex JSON arguments from native tool calls" started.
􀟈  Test "Mock Store Search" started.
􀟈  Test "Test executing a single successful tool" started.
􀟈  Test "Test basic content extraction" started.
􀟈  Test "Test full thinking block" started.
􀟈  Test "StreamingParser extracts XML tool calls with complex JSON" started.
􀟈  Test "Test executing a failing tool" started.
􀟈  Test "Add job via tool" started.
􀟈  Test "Think tag inside code block should be treated as text" started.
􀟈  Test "Empty buffer handling" started.
􀟈  Test "ToolExecutor correctly unwraps AnyCodable arguments" started.
􀟈  Test "Test executing a non-existent tool" started.
􀟈  Test "Test executing multiple tools" started.
􀟈  Test "Test multiple chunks" started.
􀟈  Test "Orphaned closing tag triggers reclassification" started.
􀟈  Test "Partial code block delimiters across chunks" started.
􀟈  Test "Interleaved partials" started.
􀟈  Test "Test malformed tags" started.
􀟈  Test "Missing Model Name" started.
􀟈  Test "Closing think tag inside code block (nested in thinking) should be preserved" started.
􀟈  Test "Custom timeout and retries" started.
􀟈  Test "Default agents are seeded" started.
􀟈  Test "Default configuration validity" started.
􀟈  Test "Invalid Endpoint" started.
􀟈  Test "Partial tag delimiters across chunks" started.
􀟈  Test "Valid OpenAI configuration" started.
􀟈  Test "Complex interleaved stream" started.
􀟈  Test "Legacy JSON Decoding" started.
􀟈  Test "Sanity Check" started.
􀟈  Test "Test basic english estimation" started.
􀟈  Test "Valid Ollama configuration (No API Key)" started.
􀟈  Test "Test multi-byte character estimation" started.
􀟈  Test "Test empty string estimation" started.
􀟈  Test "Test large input estimation" started.
2026-02-17T17:56:46+0100 info com.monad.MockVectorStore: [MonadCore] [MockVectorStore] Initialized
2026-02-17T17:56:46+0100 info com.monad.MockVectorStore: [MonadCore] [MockVectorStore] Added 2 vectors
􀟈  Test "Test generateTitle method" started.
2026-02-17T17:56:46+0100 info com.monad.MockVectorStore: [MonadCore] [MockVectorStore] Added 2 vectors
2026-02-17T17:56:46+0100 info com.monad.MockVectorStore: [MonadCore] [MockVectorStore] Searching with query vector
􀟈  Test "Test prompt building with empty context" started.
􀟈  Test "Test updating LLM configuration" started.
􀟈  Test "Test LLMService error when not configured" started.
􀟈  Test "Test prompt building logic and structure" started.
􀟈  Test "Test history optimization (truncation)" started.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Test
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Fail
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Test executed successfully
2026-02-17T17:56:46+0100 error com.monad.assistant.tools: [MonadCore] Tool Fail failed: Mock failure
2026-02-17T17:56:46+0100 error com.monad.assistant.tools: [MonadCore] Tool not found: unknown_tool
2026-02-17T17:56:46+0100 warning com.monad.assistant.parser: [MonadCore] [Parser] ORPHANED </think> DETECTED! Reclassifying.
2026-02-17T17:56:46+0100 warning com.monad.retry-policy: [MonadCore] Retry attempt 1/2 in 0.00s due to: The operation couldn’t be completed. (NSURLErrorDomain error -1001.)
2026-02-17T17:56:46+0100 warning com.monad.retry-policy: [MonadCore] Retry attempt 1/3 in 0.00s due to: The operation couldn’t be completed. (NSURLErrorDomain error -1001.)
2026-02-17T17:56:46+0100 error com.monad.retry-policy: [MonadCore] Non-retryable error encountered: The operation couldn’t be completed. (MonadCoreTests.RetryPolicyTests.(unknown context at $10c2c990c).(unknown context at $10c2c9918).FatalError error 1.)
2026-02-17T17:56:46+0100 info com.monad.assistant.chat: [MonadCore] Finalized with 1 tool calls
􁁛  Test "Test string description" passed after 0.007 seconds.
􁁛  Test "Test tool call inside standard code block" passed after 0.008 seconds.
􁁛  Test "Test tool call inside markdown code block" passed after 0.008 seconds.
􁁛  Test "Test mixed content with code block tool call" passed after 0.008 seconds.
􁁛  Test "Mock Store Initialize and Add" passed after 0.008 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Mock Tool
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Mock Tool executed successfully
􁁛  Test "Test encoding and decoding nested structures" passed after 0.008 seconds.
􁁛  Test "Succeeds on first attempt" passed after 0.008 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Mock Tool
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Mock Tool executed successfully
􁁛  Test "Test encoding and decoding primitive types" passed after 0.008 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Mock Tool
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Mock Tool executed successfully
􁁛  Test "Test partial thinking block streaming" passed after 0.008 seconds.
􁁛  Test "Test Session Creation and Context Manager Access" passed after 0.008 seconds.
􁁛  Test "Test Stale Session Cleanup" passed after 0.008 seconds.
􁁛  Test "Test encoding double wrapped AnyCodable" passed after 0.008 seconds.
􁁛  Test "Mock Store Search" passed after 0.008 seconds.
􁁛  Test "Test basic content extraction" passed after 0.008 seconds.
􁁛  Test "Test full thinking block" passed after 0.008 seconds.
􁁛  Test "Test executing a single successful tool" passed after 0.008 seconds.
􁁛  Test "Test executing a failing tool" passed after 0.008 seconds.
􁁛  Test "Empty buffer handling" passed after 0.008 seconds.
􁁛  Test "Think tag inside code block should be treated as text" passed after 0.008 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: T1
􁁛  Test "Test multiple chunks" passed after 0.008 seconds.
􁁛  Test "Partial code block delimiters across chunks" passed after 0.008 seconds.
􁁛  Test "Interleaved partials" passed after 0.008 seconds.
􁁛  Test "Test malformed tags" passed after 0.008 seconds.
􁁛  Test "Closing think tag inside code block (nested in thinking) should be preserved" passed after 0.008 seconds.
􁁛  Test "Orphaned closing tag triggers reclassification" passed after 0.008 seconds.
􁁛  Test "Missing Model Name" passed after 0.008 seconds.
􁁛  Test "Custom timeout and retries" passed after 0.008 seconds.
􁁛  Test "Test executing a non-existent tool" passed after 0.008 seconds.
􁁛  Test "Default configuration validity" passed after 0.008 seconds.
􁁛  Test "Default agents are seeded" passed after 0.008 seconds.
􁁛  Test "Invalid Endpoint" passed after 0.008 seconds.
􁁛  Test "Valid OpenAI configuration" passed after 0.008 seconds.
􁁛  Test "Sanity Check" passed after 0.008 seconds.
􁁛  Test "Valid Ollama configuration (No API Key)" passed after 0.007 seconds.
􁁛  Test "Partial tag delimiters across chunks" passed after 0.008 seconds.
􁁛  Test "Test empty string estimation" passed after 0.007 seconds.
􁁛  Test "Legacy JSON Decoding" passed after 0.008 seconds.
􁁛  Test "Complex interleaved stream" passed after 0.008 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Complex Tool
􁁛  Test "Fails immediately on non-transient error" passed after 0.008 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Complex Tool executed successfully
􁁛  Test "Test basic english estimation" passed after 0.008 seconds.
2026-02-17T17:56:46+0100 notice com.monad.assistant.llm: [MonadCore] LLM service not yet configured
􁁛  Test "Test large input estimation" passed after 0.008 seconds.
2026-02-17T17:56:46+0100 notice com.monad.assistant.llm: [MonadCore] LLM service not yet configured
2026-02-17T17:56:46+0100 notice com.monad.assistant.llm: [MonadCore] LLM service not yet configured
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Mock Tool
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Mock Tool
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Mock Tool executed successfully
2026-02-17T17:56:46+0100 notice com.monad.assistant.llm: [MonadCore] LLM service not yet configured
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Mock Tool executed successfully
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Mock Tool
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Mock Tool executed successfully
2026-02-17T17:56:46+0100 info com.monad.assistant.llm: [MonadCore] Updating configuration to models: test-model / gpt-4o-mini / gpt-4o-mini
2026-02-17T17:56:46+0100 notice com.monad.assistant.llm: [MonadCore] LLM service not yet configured
􁁛  Test "Test multi-byte character estimation" passed after 0.008 seconds.
􁁛  Test "StreamingCoordinator parses complex JSON arguments from native tool calls" passed after 0.008 seconds.
􁁛  Suite AnyCodableTests passed after 0.009 seconds.
2026-02-17T17:56:46+0100 notice com.monad.assistant.llm: [MonadCore] LLM service not yet configured
􁁛  Suite StreamingParserCodeBlockTests passed after 0.009 seconds.
􁁛  Suite MockVectorStoreTests passed after 0.009 seconds.
􁁛  Suite SessionManagerTests passed after 0.009 seconds.
􁁛  Suite StreamingParserTests passed after 0.009 seconds.
2026-02-17T17:56:46+0100 warning com.monad.retry-policy: [MonadCore] Retry attempt 2/3 in 0.00s due to: The operation couldn’t be completed. (NSURLErrorDomain error -1001.)
􁁛  Test "testUserQueryPreventsLeakageIntoSystem" passed after 0.009 seconds.
􁁛  Suite StreamingParserStressTests passed after 0.009 seconds.
􁁛  Test "testNonEmptyUserQueryAppendsMessage" passed after 0.009 seconds.
􁁛  Test "testEmptyUserQueryDoesNotAppendMessage" passed after 0.009 seconds.
􁁛  Suite LLMConfigurationTests passed after 0.009 seconds.
2026-02-17T17:56:46+0100 notice com.monad.assistant.llm: [MonadCore] LLM service not yet configured
􁁛  Suite VectorStoreTests passed after 0.009 seconds.
2026-02-17T17:56:46+0100 notice com.monad.assistant.llm: [MonadCore] LLM service not yet configured
􁁛  Suite TokenEstimatorTests passed after 0.009 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool T1 executed successfully
􁁛  Suite PromptIntegrationTests passed after 0.009 seconds.
􀟈  Test "Fetch agent by ID" started.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: T2
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool T2 executed successfully
2026-02-17T17:56:46+0100 warning com.monad.retry-policy: [MonadCore] Retry attempt 2/2 in 0.00s due to: The operation couldn’t be completed. (NSURLErrorDomain error -1001.)
2026-02-17T17:56:46+0100 notice com.monad.assistant.llm: [MonadCore] LLM service not yet configured
􁁛  Test "Fetch agent by ID" passed after 0.001 seconds.
􁁛  Test "Test executing multiple tools" passed after 0.008 seconds.
2026-02-17T17:56:46+0100 warning com.monad.assistant.tools: [MonadCore] Loop detected for tool: mock_tool
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Mock Tool
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Mock Tool executed successfully
􁁛  Test "ToolExecutor correctly unwraps AnyCodable arguments" passed after 0.009 seconds.
􁁛  Test "Test prompt building with empty context" passed after 0.004 seconds.
􁁛  Test "Test generateTitle method" passed after 0.004 seconds.
􁁛  Suite ToolExecutorTests passed after 0.010 seconds.
􀟈  Test "Has agent" started.
􁁛  Test "Has agent" passed after 0.001 seconds.
􀟈  Test "Custom agent persistence" started.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Added job: 17D78044-D2B1-4F72-8FAE-1DCD41814406
􁁛  Test "Custom agent persistence" passed after 0.001 seconds.
􁁛  Suite AgentRegistryTests passed after 0.010 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Mock Tool
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Mock Tool executed successfully
􁁛  Test "StreamingParser extracts XML tool calls with complex JSON" passed after 0.009 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Mock Tool
􁁛  Test "Test loop detection triggers after 3 identical calls" passed after 0.009 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Mock Tool executed successfully
􁁛  Suite "Tool Call Regression Tests" passed after 0.010 seconds.
􁁛  Test "Test history optimization (truncation)" passed after 0.004 seconds.
􁁛  Test "Test LLMService error when not configured" passed after 0.004 seconds.
􁁛  Test "Test loop detection reset" passed after 0.009 seconds.
􁁛  Test "Add job via tool" passed after 0.009 seconds.
􀟈  Test "List jobs via tool" started.
􁁛  Test "Test prompt building logic and structure" passed after 0.004 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Executing tool: Mock Tool
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Tool Mock Tool executed successfully
􁁛  Test "Test different arguments do not trigger loop detection" passed after 0.009 seconds.
􁁛  Suite LoopDetectionTests passed after 0.010 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Added job: 50D53907-562F-44C3-B17C-CF5B3EAA7793
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Added job: 829614B7-8841-46D4-9BDF-7E57B48F6006
􁁛  Test "List jobs via tool" passed after 0.001 seconds.
􀟈  Test "Update job status via tool" started.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Added job: 2886E53E-85AD-4BAA-A8E1-514B01021457
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Updated status for job: 2886E53E-85AD-4BAA-A8E1-514B01021457 to in_progress
􁁛  Test "Update job status via tool" passed after 0.001 seconds.
􀟈  Test "Dequeue next job" started.
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Added job: 508FA7DA-8A71-4152-95EF-7D5774ED1921
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Added job: 395B4B73-6C59-4BFB-A8B9-1974D8C069F7
2026-02-17T17:56:46+0100 info com.monad.assistant.tools: [MonadCore] Dequeued job: High (priority: 10)
􁁛  Test "Dequeue next job" passed after 0.001 seconds.
􁁛  Suite JobQueueTests passed after 0.011 seconds.
􁁛  Test "Succeeds after transient failures" passed after 0.012 seconds.
2026-02-17T17:56:46+0100 error com.monad.retry-policy: [MonadCore] Max retries (2) reached. Final error: The operation couldn’t be completed. (NSURLErrorDomain error -1001.)
􁁛  Test "Fails after max retries exhausted" passed after 0.012 seconds.
􁁛  Suite "Retry Policy Tests" passed after 0.013 seconds.
2026-02-17T17:56:46+0100 info com.monad.assistant.llm: [MonadCore] Loaded configuration. Main: test-model, Utility: gpt-4o-mini, Fast: gpt-4o-mini
􁁛  Test "Test updating LLM configuration" passed after 0.008 seconds.
􁁛  Suite LLMServiceTests passed after 0.013 seconds.
􁁛  Test "Test generating a single embedding" passed after 0.144 seconds.
􁁛  Test "Test generating multiple embeddings" passed after 0.153 seconds.
􁁛  Test "Test semantic similarity logic" passed after 0.157 seconds.
􁁛  Suite EmbeddingServiceTests passed after 0.157 seconds.
􁁛  Test run with 70 tests in 20 suites passed after 0.158 seconds.
